window.Game=function(){var e=function(){this.registerEvents()};return e.prototype.registerEvents=function(){var e=this;window.addEventListener("keydown",(function(e){[8,37,38,39,40].indexOf(e.keyCode)>-1&&e.preventDefault()}),!1),document.onmousedown=function(){window.focus()},document.addEventListener("DOMContentLoaded",(function(){e.resize()}),!1),window.addEventListener("resize",(function(){setTimeout((function(){e.resize()}),1e3)}),!1)},e.prototype.getQueryVariable=function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var i=t[n].split("=");if(i[0]==e)return i[1]}return!1},e.prototype.resize=function(){var e=this.getQueryVariable("ratio_tolerant");if(0!=e&&!this.fullscreen()){document.getElementsByTagName("body")[0].style.overflow="hidden";var t=document.getElementById("gameContainer")||document.getElementById("unityContainer"),n=document.getElementById("#canvas"),i=t.offsetWidth/t.offsetHeight,o=this.maxHeight(),r=window.innerWidth,d=r/o,u={width:t.offsetWidth,height:t.offsetHeight};"true"==e?u={width:r,height:o}:"false"==e&&(u=i>d?{width:r,height:r/i}:{width:o*i,height:o}),this.updateStyle(t,u),n&&this.updateStyle(n,u)}},e.prototype.maxHeight=function(){return window.innerHeight-43},e.prototype.updateStyle=function(e,t){e.setAttribute("width",t.width),e.setAttribute("height",t.height),e.style.width=t.width+"px",e.style.height=t.height+"px"},e.prototype.fullscreen=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},e}(),new Game;
